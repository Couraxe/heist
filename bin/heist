#!/usr/bin/env ruby
dir = File.expand_path(File.dirname(__FILE__))
require dir + '/../lib/heist'
require dir + '/../lib/bin_spec'

begin
options = Heist::BIN_SPEC.parse
rescue Oyster::HelpRendered; exit
end

if options[:interactive] or options[:unclaimed].empty?
  Heist::REPL.new(options).run
else
  env = Heist::Runtime.new(options)
  env.run(File.expand_path(options[:unclaimed].first))
end

